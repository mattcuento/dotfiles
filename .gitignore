# Dotfiles Repository - .gitignore
# This repository contains portable configuration files.
# Machine-specific and transient files are excluded.

# ============================================
# Claude Code - Allowlist Strategy
# ============================================
# STRATEGY: Ignore everything in .claude/ by default, then explicitly
# allow only configuration files. This prevents accidentally committing
# any new runtime/session data that Claude Code might create.
#
# TRACKED (explicitly allowed):
#   - CLAUDE.md (user preferences)
#   - settings.json (shared settings)
#   - skills/ (custom skills only)
#   - plugins/ directories (future custom plugins)
#
# IGNORED (everything else):
#   - All runtime data (history, plans, debug, etc.)
#   - All session data (todos, session-env, etc.)
#   - All cache/marketplace/installed plugins metadata
#   - Machine-specific settings (settings.local.json)
# ============================================

# Ignore everything in .claude/ by default
.claude/*

# Explicitly allow configuration files
!.claude/CLAUDE.md
!.claude/settings.json
# Ignore setup script (one-time use)
.claude/setup-symlink.sh

# Allow skills directory
!.claude/skills/

# Allow plugins directory but ignore all plugin-related files except custom plugin dirs
!.claude/plugins/
# Ignore all plugin metadata, cache, and symlinks
.claude/plugins/*.json
.claude/plugins/cache/
.claude/plugins/marketplaces/
.claude/plugins/dev-suite
# Allow .original directories (actual custom plugins)
!.claude/plugins/*.original/
!.claude/plugins/*.original/**

# Ensure machine-specific and backup files stay ignored
.claude/settings.local.json
.claude/*.original

# ============================================
# System Files
# ============================================

# macOS system files
.DS_Store

# Editor backup files
*~
*.swp
*.swo

# ============================================
# Tmux - Plugin and Runtime Data
# ============================================

# Tmux plugins (managed by TPM, re-downloadable)
# Note: TPM itself is a submodule and is versioned
.tmux/plugins/*
!.tmux/plugins/tpm

# Tmux resurrect/continuum data (session state)
.tmux/resurrect/

# Tmux server state
.tmux/tmp/

# ============================================
# Neovim - Plugin and Runtime Data
# ============================================

# Vim/Neovim native package management (downloaded plugins)
.config/nvim/pack/

# Lazy.nvim plugin data is stored in ~/.local/share/nvim/lazy/
# (outside config directory, so no gitignore needed here)

# ============================================
# Zsh - Sensitive Data and History
# ============================================

# NOTE: Sensitive data is stored in ~/.zsh_sensitive (in home root),
# which is outside this repo, so it's automatically not tracked.
# The patterns below are defensive in case files end up in wrong location.

# Zsh history (contains command history with potential secrets)
.zsh_history
*/.zsh_history

# Zsh sessions (contains session state)
.zsh_sessions/
*/.zsh_sessions/

# Defensive: Block any sensitive.zsh files
*sensitive.zsh
!*sensitive.zsh.example
